# Module 06 Recommended Session Lesson Plan: Server Side APIs

## Overview 

Flex Sessions are two hour Zoom sessions held earlier in the week (Mondays/Tuesdays) and are optional for students. Students are expected to be in the middle of working on their asynchronous content during this time of the week.

The primary goals of Flex Sessions are to:

* Build community and help students feel more connected to instructors and one another

* Help students who are “stuck” on the asynchronous work and would appreciate extra guidance and support

* Provide extra context in the learning journey around career preparation and workforce readiness

@TODO In today's flex session, { ... } outline the career topic and the 2-3 key topic areas that will be drawn from the asynchronous content and reinforced in this lesson.

## Learning Objectives

By the end of class, students will be able to:

* Use fetch to make requests to APIs

* Use vanilla JavaScript to display responses to the browser

## Preparing For Class/Instructor Notes

* When reviewing activities, ask for volunteers to share their solutions and/or ask students to walk through the solution, line-by-line.

* If you are comfortable doing so, live code the solutions to the activities. If not, no worries. Use the solutions provided and follow the prompts and talking points for review. 

* If you are comfortable doing so, share your struggle and/or personal experiences learning and working with the concepts covered in this lesson.

* During activities, visit a few breakout rooms quietly and ask the group if they are comfortable with the activity and provide gentle tips to keep them on track.

* Fetch is a fairly simple topic, but being this is new to students be prepared for questions on syntax or basic errors.

* @TODO reference to async

## Time Tracker 
[]()

- - -

## Class Instruction 

### 1. Introduction/Take Pulse (5 min)

* Welcome students to class.

* Direct students to post individual questions in the Zoom chat to be addressed by TAs and/or at the end of class.

* Ask the class the following question(s) and call on students for the corresponding answer(s):

    * ☝️ How are you feeling about your progress so far?

    * 🙋 We are adding another layer to our skills, and starting to take our skills and make some requests to outside APIs! It is important to remember how much you have already covered, its a lot! Its okay to feel overwhelmed, but always remind yourself of how much you have already learned!

    * ☝️ How comfortable do you feel with this topic? 

    * 🙋 Let's do "Fist to Five" together. If you are not feeling confident, hold up a fist (0). If you feel very confident, hold up an open hand (5).

### 2. Activity Arc 1: Career Tie-In/Industry Focus (20-30 min)

This first activity should be designed to allow students to prepare for their entrance into or acceleration within the profession. Ideally, this activity is designed in a way that both adds clear value and is interesting enough to be ‘advertised’ to students in advance. 

The most common activity for this section should be completing one or more algorithmic  practice problems resembling a technical interview question. The purpose of these exercises would be to expose students to the idea of being presented a problem to resolve in a short amount of time, as well as get them comfortable with white-boarding solutions and talking through their thought processes.

Other career tie-in/industry focus activities may include:
* Deconstructing and demystifying a job description

* Reviewing and comparing the most common coding languages and tools

* Helping build the ‘mindset’ of a developer by asking the instructor modeling how professionals approach problems

* Examining the different routes by which new developers get their first job

* Activities about how to showcase a developer Github or portfolio

* Activities deconstructing a strong and relevant README

* Share different open-source projects or side projects students can take up after the course. 


### 3. Instructor Demo: Simple Fetch (5 min) 

* Use the prompts and talking points below to demonstrate the following key point(s):

    * ✔️ fetch('url')

    * ✔️ `.then`

* Open `01-Fetch/Solved/assets/js/index.html` in your browser, open the console, and demonstrate the following:

    * This application makes a fetch request to the Giphy API.

    * The response from the API is console logged.

* Ask the class the following question(s) and call on students for the corresponding answer(s):

    * ☝️ Where have we used this before?

    * 🙋 @TODO We used this to accomplish { x, y, z }, in { corresponding asynchronous lesson plan }.

    * ☝️ How does this activity equip us for the challenge?

    * 🙋 We will need to make fetch requests to complete the challenge.

    * ☝️ How would we build this?

    * 🙋 We would simply use standard `fetch` syntax to make a request to the API, and console log our response to start.

* Answer any questions before proceeding to the next activity.

### 4. Student Do: Console Fetch (10 min) 

* Divide students into breakout rooms.

* Direct students to the activity instructions found in `01-Fetch/Unsolved/README.md`.

```md
  # Console Fetch

  In this activity you will use Fetch and make a request to the Giphy API

  ## Instructions

  * Open `script.js` and write a fetch request to the Giphy API.

  * Then console log the response.
```

### 5. Instructor Review: Console Fetch (5 min) 

* Bring students back from breakout rooms. 

* Use the prompts and talking points below to review the following key point(s):

    * ✔️ fetch('url')

    * ✔️ `.then`

* Open `01-Fetch/Solved/assets/js/script.js` in your IDE and explain the following: 

    * 🔑 We write a request using the `fetch(url)` syntax. When making a request to Giphy we need to be sure to put our API key at the end.

    ```js
    fetch('https://api.giphy.com/v1/gifs/trending?api_key=HvaacROi9w5oQCDYHSIk42eiDSIXH3FN')
    ```

    * 🔑 We `.then()` take our response and convert it to `json()`

    ```js
    .then((response) => {
        return response.json();
    })
    ```

    * 🔑 Finally we chain another `.then` function and `console.log` our response

    ```js
    .then((data) => {
        console.log(data);
    });
    ```

* Ask the class the following question(s) and call on students for the corresponding answer(s):

    * ☝️ What does fetch allow us to do.

    * 🙋 `fetch` allows us to make API requests via JS.

    * ☝️ Why do we need an API key

    * 🙋 Most APIs require a an API key, and thats a key that will get passed to their API to authorize access. This helps APIs limit requests.

    * ☝️ What can we do if we don't totally understand this?

    * 🙋 We can refer to the lesson plan, read the [MDN Documentation on Fetch](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 6. Instructor Demo: Display Response (5 min) 

* Use the prompts and talking points below to demonstrate the following key point(s):

    * ✔️ `fetch()`

    * ✔️ `.then()`

    * ✔️ JS to display response

* Open `02-Response/Solved/assets/js/script.js` in your browser and demonstrate the following:

    * When the page loads, we see a gif.

    * Every time we refresh the page, a random gif now loads!

* Ask the class the following question(s) and call on students for the corresponding answer(s):

    * ☝️ Where have we used this before?

    * 🙋 @TODO We used this to accomplish { x, y, z }, in { corresponding asynchronous lesson plan }.

    * ☝️ How does this activity equip us for the challenge?

    * 🙋 We will need to use and display responses from APIs on our pages

    * ☝️ How would we build this?

    * 🙋 After receiving responses from our API, all we need to do is use some JavaScript to display these responses to the page.

* Answer any questions before proceeding to the next activity.

### 7. Student Do: Display Response (15 min) 

* Divide students into breakout rooms.

* Direct students to the activity instructions found in `02-Response/README.md`.

```md
# Display Response

In this activity you will use the fetch you created in the last activity and then instead of console logging the response, display a gif to the page!

## Instructions

* Open `index.html` and check the IDs and classnames of the HTML, for DOM manipulation later.

* Open `script.js` and create a new fetch request to the Giphy API.

* From the response, display a gif to the screen.

## Hint(s) 

* We will need to use DOM manipulation to create elements and append them to the screen!

* Check out the `<img>` tag.
```

### 8. Instructor Review: Display Response (5 min) 

* Bring students back from breakout rooms. 

* Use the prompts and talking points below to review the following key point(s):

    * ✔️ `fetch`

    * ✔️ DOM Manipulation to display response

* Open `02-Response/Solved/assets/js/script.js` in your IDE and explain the following: 

    * 🔑 We write a fetch request to Giphy, using the `random` endpoint so we only receive one response. We could use other endpoints, but then we would need to loop through the response.

    ```js
    fetch('https://api.giphy.com/v1/gifs/random?api_key=HvaacROi9w5oQCDYHSIk42eiDSIXH3FN')
    ```

    * We `.then` convert the response to JSON with `.json()`

    ```js
    .then((response) => {
        return response.json();
    })
    ```

    * 🔑 We will then do some DOM manipulation to display the response. We will first grab the ID via `document.querySelector`.

    ```js
    var responseContainerEl = document.querySelector("#response-container")
    ```

    * Next, we create an `<img>` element, and then set its `src` attribute to be equal to `response.data.image_url` from our API response. 

    ```js
    var gifImg = document.createElement("img");
    gifImg.setAttribute("src", response.data.image_url)
    ```

    * Finally we will take the `responseContainerEl` and append the `gifImg` we created to it.

    ```js
    responseContainerEl.appendChild(gifImg)
    ```

* Ask the class the following question(s) and call on students for the corresponding answer(s):

    * ☝️ How do API calls and DOM manipulation come together to help us?

    * 🙋 We are now able to take responses from our API calls and display those results to the browser however we like.

    * ☝️ What can we do if we don't completely understanding this?

    * 🙋 We can refer to the lesson plan, read the [DOM Docs on MDN](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 09. Recap (5 min)

* Ask the class the following question(s) and call on students for the corresponding answer(s):

    * ☝️ What topics did we cover today? What are the main takeaways?

    * 🙋 We covered fetch, and how we can display responses from our fetches to the browser!

    * ☝️ What do you think is okay to not completely understand?

    * 🙋 All of it! The field of web development is very wide and rapidly evolving. Unless you choose to specialize, it's unnecessary to know anything completely to be successful. 

    * ☝️ Why is it important to do as much of the lesson material as possible?

    * 🙋 It's important to do as much of the lesson material prior to class to not only be fully prepared to start the challenge, but your career as a web developer. We cover a lot of material in our bootcamp. Lessons are designed to give each topic a unique and optimal amount of depth so we can provide the scope needed to confidently build upon, while ensuring time for other important material.

    * ☝️ Where in the asynchronous lessons can you learn more?

    * 🙋 @TODO YES, WHERE?

    * ☝️ What is exciting about the remaining lessons?

    * 🙋 @TODO YES, WHAT?

### 10. Study Hall (30 min)

* Announce 'study hall' and invite students to stay on the Zoom and ‘start the challenge’ while they have live support from instructional staff. 

### 11. End (0 min)
