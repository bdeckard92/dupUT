# Module 06 Required Session Lesson Plan: Server Side APIs

## Overview 

During this lesson we will teach students how to take user input and to make specific API calls, they will use multiple query params, and they will also use some nested API calls. This is all material covered throughout their module, but these activities will help reinforce these key topics that will be in the forefront of their module challenge.

## Learning Objectives

By the end of class, students will be able to:

* Use user input to make specific API calls

* Use multiple query params in a single API call

* Use nested API calls

## Preparing For Class/Instructor Notes 

* When reviewing activities, ask for volunteers to share their solutions and/or ask students to walk through the solution, line-by-line.

* If you are comfortable doing so, live code the solutions to the activities. If not, no worries. Use the solutions provided and follow the prompts and talking points for review. 

* If you are comfortable doing so, share your struggle and/or personal experiences learning and working with the concepts covered in this lesson.

* The topics covered in this class are a bit more complex than the recommended session, so be prepared to answer any questions pertaining to the activities to be completed.

* As always, documentation is your friend. Most importantly, be sure to prepare and read over the activities before your class begins. Try and anticipate questions students may have.

* @TODO reference to async

* Remind TAs to post on Slack the Friday morning before, with a quick message reminding students about the upcoming Saturday session.

## Pre-Class Activity/Warm-Up 

Encourage students to work on the remaining module algorithm(s) during office hours. Review the solutions to the algorithm(s) 5 or 10 minutes before class begins or during office hours after class.

## Time Tracker

[]()]

---

### 1. Icebreaker Activity: Giphy Search! (10 min)

* Welcome students to class.

* Ask the class the following question(s) and call on students for the corresponding answer(s):

    * â˜ï¸ What did we learn this week? How would you explain it to your friends and family?

    * ğŸ™‹ We learned { x, y z }. We are moving fast compared to traditional learners. Itâ€™s ok to feel overwhelmed as long as you donâ€™t give up.

    * â˜ï¸ Did anyone have an 'ah-ha' moment this week? When and why did it click? 

    * ğŸ™‹ Eureka moments happen when we try different approaches to a problem or change the way we are thinking about the problem.

    * â˜ï¸ Did anyone feel stuck this week? How did you get unstuck?

    * ğŸ™‹ It's easy to get stuck when you're learning web development. It's important to learn how get unstuck because it happens to the pros, too. Rather than getting lost in search results, consult the official documentation first. Then ask for help from instructional staff or your peers. Study groups are a great because explaining your problems to someone else often reveals their solution. 


### 2. Instructor Do: Weather Dashboard (5 min)

* Open `02-Challenge/Master/index.html` in your browser and demonstrate the following:

    * When we enter a city in the search box, receive the current forecast, wind speed, and UV index for that city.

    * We also receive a 5 day forecast, nicely displayed in their own boxes all relevant information

* Ask the class the following question(s) and call on students for the corresponding answer(s):

    * â˜ï¸ What recently acquired skills will help us build this challenge?

    * ğŸ™‹ We can use fetch to make complex API calls and JS to dynamically display responses to our screen.

    * â˜ï¸ How are these skills relevant to a career in web development?

    * ğŸ™‹ Creating nice UIs and displaying responses from API requests is a big part of web development, and an important skill you are fostering.

    * â˜ï¸ How will this challenge improve your portfolio?

    * ğŸ™‹ Working with APIs is an essential part of web development.

* Answer any questions before proceeding to the next activity.

### 3. Instructor Demo: Gif Search (5 or 10 min) 

* Use the prompts and talking points below to demonstrate the following key point(s):

    * âœ”ï¸ User input to search specific gif

* Open `03-Gif-Search/Solved/assets/js/index.html` in your browser and demonstrate the following:

    * When we search for a term, we get a gif relating to that topic.

* Ask the class the following question(s) and call on students for the corresponding answer(s):

    * â˜ï¸ Where have we used this before?

    * ğŸ™‹ @TODO We used this to accomplish { x, y, z }, in { corresponding asynchronous lesson plan }.

    * â˜ï¸ How does this activity equip us for the challenge?

    * ğŸ™‹ Accepting user input and dynamically using it in API calls is essential for completing the challenge.

    * â˜ï¸ How would we build this?

    * ğŸ™‹ We first need to get the value of the search term, and implant that value into our fetch query URL.

* Answer any questions before proceeding to the next activity.

### 4. Student Do: Gif Search (15 min) 

* Divide students into breakout rooms.

* Direct students to the activity instructions found in `03-Gif-Search/README.md`.

```md
    # Call Giphy's Search API endpoint with a search term

In this activity you will call Giphy's search API with a search term entered by the user. 

## Instructions

Using the starter code in `/Unsolved`, ensure the following functionality:

* There's an input field in `index.html` that collects a search term from the user, and a Search button to submit the term.

* Pressing the Search button triggers a request to Giphy, with a `q` query string parameter set to the value the input field.

* The `response-container` element in the DOM is updated with the image from the Giphy response.

* The image returned from Giphy should be related to the search term entered by the user. (It's likely this relationship will be loose.)


## Hint(s)

* You will need to update both `index.html` and `script.js` to handle the user's search term.

* Take a look at the Giphy search [API endpoint docs](https://developers.giphy.com/docs/api/endpoint#search).

* You'll need to wrap the JavaScript in a function that can be called when the button is clicked. You can use an `onlclick` attribute on the button element to trigger the function.
```

### 5. Instructor Review: Gif Search (5 or 10 min) 

* Bring students back from breakout rooms. 

* Use the prompts and talking points below to review the following key point(s):

    * âœ”ï¸ `.value()`

    * âœ”ï¸ `response.data[0]`

* Open `03-Gif-Search/Solved/assets/js/script.js` in your IDE and explain the following: 

    * We first create a function called `myFunction`. We do this so that this function can be executed when the search button is clicked.

    ```js
    function myFunction() {}
    ```

    * ğŸ”‘ Next, we obtain the value of the search term entered in the textbox by targeting the text box and using the `.value()` method.

    ```js
    let searchTerm = document.querySelector("#searchTerm").value;
    ```

    * Now we setup our `fetch` request, concatenating our `searchTerm` into the query url

    ```js
    fetch('https://api.giphy.com/v1/gifs/search?q=' + searchTerm + '&api_key=HvaacROi9w5oQCDYHSIk42eiDSIXH3FN&limit=1')
    ```

    * Just like earlier activities we convert the response to JSON. Like before, we target the responseContainerEl and set its HTML to be empty everytime the button is clicked.

    ```js
    .then((response) => {
        console.log(response.data[0])
        let responseContainerEl = document.querySelector("#response-container")
        responseContainerEl.innerHTML = ''
    }
    ```

    * ğŸ”‘ Finally we create our `<img>` element again and the only difference here is that because we are receiving more than one image, we need to specify the index of the `data` response that we want.

    ```js
        gifImg.setAttribute("src", response.data[0].images.fixed_height.url)
        responseContainerEl.appendChild(gifImg)
      });
    }


    ```

* Ask the class the following question(s) and call on students for the corresponding answer(s):

    * â˜ï¸ What is the value of taking user input into our API calls?

    * ğŸ™‹ This allows for much better user engagement with our applications as we can tailor searches and calls to what the user wants!

    * â˜ï¸ What can we do if we don't completely understanding this?

    * ğŸ™‹ We can refer to the lesson plan, read the [MDN Docs on Object.value](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Object/values), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 6. Instructor Demo: [Activity Name] (5 or 10 min) 

* Use the prompts and talking points below to demonstrate the following key point(s):

    * âœ”ï¸ 

    * âœ”ï¸ 

* Open `/folder/file` in your browser and demonstrate the following:

    * @TODO When we do this, it does that.

    * @TODO We also see these things.

* Ask the class the following question(s) and call on students for the corresponding answer(s):

    * â˜ï¸ Where have we used this before?

    * ğŸ™‹ @TODO We used this to accomplish { x, y, z }, in { corresponding asynchronous lesson plan }.

    * â˜ï¸ How does this activity equip us for the challenge?

    * ğŸ™‹ @TODO . 

    * â˜ï¸ How would we build this?

    * ğŸ™‹ @TODO . 

* Answer any questions before proceeding to the next activity.


### 7. Student Do: [Activity Name] (10 or 15 min) 

* Divide students into breakout rooms.

* Direct students to the activity instructions found in `/folder/file`.

```md
    @TODO add instructions; tabbed
```


### 8. Instructor Review: [Activity Name] (5 or 10 min) 

* Bring students back from breakout rooms. 

* Use the prompts and talking points below to review the following key point(s):

    * âœ”ï¸ @TODO

    * âœ”ï¸ @TODO

* Open `/folder/file` in your IDE and explain the following: 

    * @TODO 

    ```@TODO code

    ```

* Ask the class the following question(s) and call on students for the corresponding answer(s):

    * â˜ï¸ @TODO ?

    * ğŸ™‹ @TODO .

    * â˜ï¸ What can we do if we don't completely understanding this?

    * ğŸ™‹ We can refer to the lesson plan, read the [](), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.


### 9. Instructor Demo: [Activity Name] (5 or 10 min) 

* Use the prompts and talking points below to demonstrate the following key point(s):

    * âœ”ï¸ 

    * âœ”ï¸ 

* Open `/folder/file` in your browser and demonstrate the following:

    * @TODO When we do this, it does that.

    * @TODO We also see these things.

* Ask the class the following question(s) and call on students for the corresponding answer(s):

    * â˜ï¸ Where have we used this before?

    * ğŸ™‹ @TODO We used this to accomplish { x, y, z }, in { corresponding asynchronous lesson plan }.

    * â˜ï¸ How does this activity equip us for the challenge?

    * ğŸ™‹ @TODO . 

    * â˜ï¸ How would we build this?

    * ğŸ™‹ @TODO . 

* Answer any questions before proceeding to the next activity.


### 10. Student Do: [Activity Name] (10 or 15 min) 

* Divide students into breakout rooms.

* Direct students to the activity instructions found in `/folder/file`.

```md
    @TODO add instructions; tabbed
```


### 11. Instructor Review: [Activity Name] (5 or 10 min) 

* Bring students back from breakout rooms. 

* Use the prompts and talking points below to review the following key point(s):

    * âœ”ï¸ @TODO

    * âœ”ï¸ @TODO

* Open `/folder/file` in your IDE and explain the following: 

    * @TODO 

    ```@TODO code

    ```

* Ask the class the following question(s) and call on students for the corresponding answer(s):

    * â˜ï¸ @TODO ?

    * ğŸ™‹ @TODO .

    * â˜ï¸ What can we do if we don't completely understanding this?

    * ğŸ™‹ We can refer to the lesson plan, read the [](), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

@TODO delete the following if out of time


### 12. Recap (5 min)

* Ask the class the following question(s) and call on students for the corresponding answer(s):

    * â˜ï¸ What do you think you absolutely need to know to succeed at the challenge?

    * ğŸ™‹ @TODO 

    * â˜ï¸ What do you think is okay to not completely understand?

    * ğŸ™‹ All of it! The field of web development is very wide and rapidly evolving. Unless you choose to specialize, it's unnecessary to know anything completely to be successful. 

    * â˜ï¸ Why is it important to do as much of the lesson material as possible?

    * ğŸ™‹ It's important to do as much of the lesson material prior to class to not only be fully prepared to start the challenge, but your career as a web developer.


### 13. Promote Additional Resources (5 min)

* Direct students to the additional resources available to them:

    * Reference pages

    * Career Services content

    * Reflection + Retrieval


### 14. Office Hours (30 min)

* Announce 'office hours' and invite students to stay on the Zoom and â€˜start the challengeâ€™ while they have live support from instructional staff. 


### 15. End 


