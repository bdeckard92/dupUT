# Module 12 Virtual Class (Recommended): SQL

## Overview 

In today's recommended class we will review schemas, creating databases and tables, and populating tables with data. 

## Learning Objectives

By the end of class, students will be able to:

* Create a database and tables

* Populate a table with data

* Understand the purpose of a schema


## Instructor Notes

* Students will be more familiar with SQLite syntax vs MySQL. Even though they are very similar, there are a few differences like `AUTO_INCREMENT` , `CREATE DATABASE`, and how to designate the `PRIMARY KEY`, and [MySQL client commands](https://dev.mysql.com/doc/refman/8.0/en/mysql-commands.html). 
  
* [How to initiate the MySQL command line.](https://dev.mysql.com/doc/refman/8.0/en/mysql.html)

* Students have not seen this command in this module, might be best to give this snippet to them to place at top the `schema.sql` file.

```sql
DROP DATABASE IF EXISTS books_db;
CREATE DATABASE books_db;
USE books_db;
```

* To initiate mysql command line client, first make sure the MySQL server is running, then in the terminal type `mysql -u root -p`, then type in your MySQL community server password.

* [Install MySQL](https://dev.mysql.com/downloads/mysql/) ahead of time and run the `schema.sql` and `seeds.sql` from the MySQL command prompt. MySQL CLI $PATH must sometimes be manually entered depending on OS. For [macOS](https://apple.stackexchange.com/questions/176786/how-to-add-mysql-to-path-variable-to-resolve-mysql-command-not-found). For [Windows](https://dev.mysql.com/doc/mysql-windows-excerpt/5.7/en/mysql-installation-windows-path.html)

* In the async material, students create a schema and seed the table from the command line using files in Lesson 1.


## Time Tracker 

| Start  | #  | Activity Name                     | Duration |
|---     |--- |---                                |---       |
| 6:30PM | 1  | Introduction                      | 0:05     |
| 6:35PM | 2  | Everyone Do: Career Connection    | 0:20     |
| 6:55PM | 3  | Instructor Demo:                  | 0:05     |
| 7:00PM | 4  | Student Do:                       | 0:15     |
| 7:15PM | 5  | Instructor Review:                 | 0:10     |
| 7:25PM | 6  | Instructor Demo:                  | 0:05     |
| 7:30PM | 7  | Student Do:                       | 0:15     |
| 7:45PM | 8  | Instructor Review:                | 0:10     |
| 7:55PM | 9  | Recap                             | 0:05     |
| 8:00PM | 10 | Office Hours                      | 0:30     |
| 8:30PM | 11 | End                               | N/A      |

---

## Class Instructions 

### 1. Introduction (5 min)

* Welcome students to class.

* Direct students to post individual questions in the Zoom chat to be addressed by TAs and/or at the end of class.

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

    * ☝️ How are you feeling about your progress so far?

    * 🙋 We are adding another layer to our full-stack skill set. It's important to look back and see what we accomplished, and acknowledge that it's a lot! It’s also okay to feel overwhelmed as long as you don’t give up.

    * ☝️ How comfortable do you feel with this topic? 

    * 🙋 Let's do "fist to five" together. If you are not feeling confident, hold up a fist (0). If you feel very confident, hold up an open hand (5).


### 2. Everyone Do: Career Connection (20 min)

@TODO CHECK WITH THE LCA, LCE & CS POC


### 3. Instructor Demo: SQL Schema (5 min) 


* Run [01-Stu_Schema/Solved/schema.sql](https://github.com/coding-boot-camp/fullstack-online/blob/FSFO-742-12-required-lp/01-Class-Content/12-SQL/01-Activities/01-Stu_Schema/Solved/schema.sql) in the MySQL command line and demonstrate the following: 

    * 🔑 When we initialize the MySQL command line, `mysql>`, we can execute the `schema.sql` file. `mysql> source schema.sql`  (MySQL community server must be running)

    * 🔑 When can verify the table and database were made with the command `SHOW TABLES;`, `SHOW DATABASES;`.

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

    * ☝️ Where have we used this before?

    * 🙋 Similar to how we loaded the `schema.sql` file from the command line in Lesson 1. Also how we verified the schema from the command line.

    * ☝️ How does this activity equip us for the challenge?

    * 🙋 Yes, we must first create a connection between the database server and the database. 

    * ☝️ How would we build this?

    * 🙋 First create the `schema.sql` file with the SQL script to create the database and table.

* Answer any questions before proceeding to the next activity.


### 4. Student Do: SQL Schema (15 min) 

* Divide students into breakout rooms.

* Direct students to the activity instructions found in `01-Stu_Routes/README.md`.

```md
    
  * Create a `schema.sql` file for a database, `books_db`

  * Create two tables, one for `books` and one for `authors`. 

  * In the `books` table, add columns for the following:

    * `id`

    * `authorId` (INTEGER)

    * `title

    * `PRIMARY KEY`

  * In the `authors` table, add columns for the following: 

    * `id`

    * `firstName`

    * `lastName`

    * `PRIMARY KEY`

  * Run your `schema.sql` file from the MySQL command prompt to create your database and tables. 
```

* To initiate MySQL command line: `mysql -u root -p`  then <MySQL password>.

* To execute `schema.sql` type into mysql command line `source schema.sql`

### 5. Instructor Review: SQL Schema (10 min) 

* Bring students back from breakout rooms. 

* Use the prompts and talking points below to review the following key (🔑) points:

    * ✔️ `mysql -u root -p`

    * ✔️ `source schema.sql`

    * ✔️ `mysql> SHOW TABLES;`

    * ✔️ `mysql> DESCRIBE authors;`

    * ✔️ `mysql> DESCRIBE books;`

* Open `01-Stu_Schema/Solved/schema.sql` in your IDE and explain the following:

    * 🔑 We create the database:
  
    ```sql
    DROP DATABASE IF EXISTS books_db;
    CREATE DATABASE books_db;
    USE books_db;
    ```

    * 🔑 We create the `books` table with this command:
  
    ```sql
    CREATE TABLE books(
      id INTEGER(11) AUTO_INCREMENT NOT NULL,
      authorId INTEGER(11),
      title VARCHAR(100),
      PRIMARY KEY (id)
    );
    ```
    * 🔑 We create the `authors` table with this command:
  
    ```sql
    CREATE TABLE authors(
      id INTEGER(11) AUTO_INCREMENT NOT NULL,
      firstName VARCHAR(100),
      lastName VARCHAR(100),
      PRIMARY KEY (id)
    );
    ```

    * We execute the `schema.sql` file in the mysql command line with the command:

    ```bash
    source schema.sql
    ```

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

    * ☝️ Why do we drop the `books_db` if it exists?

    * 🙋 Reset data and schema to the original dataset. Eliminates surprises.

    * ☝️ Why do we need a schema?

    * 🙋 Creates the table's structure. Necessary for SQL queries which rely on the structure.

    * ☝️ What can we do if we don't completely understanding this?

    * 🙋 We can refer to the lesson plan, read the [MySQL documentation on schemas](https://dev.mysql.com/doc/refman/8.0/en/getting-information.html), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.


### 6. Instructor Demo: SQL Seeds (5 min) 

* Run the [`02-Stu_Seeds/Solved/seeds.sql`](https://github.com/coding-boot-camp/fullstack-online/blob/master/01-Class-Content/12-SQL/01-Activities/02-Stu_Seeds/Solved/seeds.sql) file from the MySQL command line and demonstrate the following:

    * 🔑 We are populating the `authors` and `books` tables with data

    * 🔑 When we run `source seeds.sql` from the MySQL command line

    * 🔑 When we run `SELECT * FROM authors;` from the MySQL command line
    
    * 🔑 We see the data in the `authors` table
  
* Ask the class the following questions (☝️) and call on students for the answers (🙋):

    * ☝️ Where have we used this before?

    * 🙋 We used the same command in Lesson 1, to query the `candidates` table.

    * ☝️ How does this activity equip us for the challenge?

    * 🙋 Executing SQL commands give us a way to test prepared statements in application

    * ☝️ How would we build this?

    * 🙋 We need to create the SQL commands in the `seeds.sql` file

* Answer any questions before proceeding to the next activity.


### 7. Student Do: SQL Seeds (15 min) 

* Divide students into breakout rooms.

* Direct students to the activity instructions found in [`02-Stu_Seeds/README.md`](https://github.com/coding-boot-camp/fullstack-online/blob/master/01-Class-Content/12-SQL/01-Activities/02-Stu_Seeds/README.md).

```md
    * Create a `seeds.sql` file to insert values into the `authors` and `books` tables in the `books_db` database. 

    * Insert the following names, in this order, into their corresponding columns in `authors`:

        1. Jane Austen
        
        2. Mark Twain
        
        3. Lewis Carroll
        
        4. Andre Asselin

    * Insert the following titles and `authorId` into their corresponding columns in `books`:

        * 'Pride and Prejudice', 1

        * 'Emma', 1

        * 'The Adventures of Tom Sawyer', 2

        * 'Adventures of Huckleberry Finn', 2

        * 'Alice''s Adventures in Wonderland', 3

        * 'Dracula', null 
```


### 8. Instructor Review: SQL Seeds (10 min) 

* Bring students back from breakout rooms. 

* Use the prompts and talking points below to review the following key (🔑) points:

    * ✔️ Seed the tables with data

    * ✔️ `INSERT INTO`

    * ✔️ `VALUES`

* Open [`02-Stu_Seeds/Solved/seeds.sql`](https://github.com/coding-boot-camp/fullstack-online/blob/master/01-Class-Content/12-SQL/01-Activities/02-Stu_Seeds/Solved/seeds.sql) in your IDE and explain the following: 

    * 🔑 `INSERT INTO` <table>

    * 🔑 `VALUES` (syntax)

    ```SQL
    INSERT INTO authors (firstName, lastName) VALUES ('Jane', 'Austen');
    INSERT INTO authors (firstName, lastName) VALUES ('Mark', 'Twain');
    INSERT INTO authors (firstName, lastName) VALUES ('Lewis', 'Carroll');
    INSERT INTO authors (firstName, lastName) VALUES ('Andre', 'Asselin');
    ```

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

    * ☝️ Did anyone populate the tables with a different SQL command?

    * 🙋 If so please read your answer, or share screen

    ```SQL
    INSERT INTO authors (firstName, lastName) 
    VALUES 
      ('Jane', 'Austen'),
      ('Mark', 'Twain'),
      ('Lewis', 'Carroll'),
      ('Andre', 'Asselin');
    ```

    * ☝️ What can we do if we don't completely understanding this?

    * 🙋 We can refer to the lesson plan, read the [MySQL documentation on common queries](https://dev.mysql.com/doc/refman/8.0/en/examples.html), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 09. Recap (5 min)

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

    * ☝️ What topics did we cover today? What are the main takeaways?

    * 🙋 How to create a database and tables in MySQL, the database engine we will use for future modules.

    * ☝️ What do you think is okay to not completely understand?

    * 🙋 All of it! The field of web development is very wide and rapidly evolving. Unless you choose to specialize, it's not necessary to know any one area completely to be successful. 

    * ☝️ Why is it important to do as much of the lesson material before class as possible?

    * 🙋 It's important both to be fully prepared to start the challenge and because it will prepare you for your future career as a web developer. We cover a lot of material in the boot camp. Lessons are intentionally designed to give each topic an optimal amount of depth and scope so that you have a solid foundation to build upon in future lessons. The skills you learn in the lessons are cutting-edge, real-world skills that you will use in your career as a full-stack web developer. 

    * ☝️ Where in the asynchronous lessons can you learn more?

    * 🙋 Module 13 - Sequelize

    * ☝️ What excites you about the remaining lessons for this week?

* Direct students to the additional resources available to them:

  * Lesson 1 is about SQL queries and executing SQL files to modify database

  * Reflection and Retrieval

  * Career Connection

  * Dessert Menu

* Use student answers to transition to office hours.

### 10. Office Hours (30 min)

* Announce office hours and invite students to stay on the Zoom and start the challenge while they have live support from instructional staff. 


### 11. End

How did today’s lesson go? Your feedback is important. Please take 5 minutes to complete [this anonymous survey](https://forms.gle/3LozVjherGH83aG17)

---
© 2020 Trilogy Education Services, LLC, a 2U, Inc. brand.  Confidential and Proprietary.  All Rights Reserved.
