# Module 12 Virtual Class (Recommended): SQL

## Overview 

In today's recommended virtual class, we will review schemas, creating databases and tables, and populating tables with data, as well as solve a new algorithm in CodeSignal. 

## Learning Objectives

By the end of class, students will be able to:

* Solve the CodeSignal algorithm `camelCaseSeparation`

* Create a database and tables

* Populate a table with data

* Understand the purpose of a schema


## Instructor Notes

* Students will be more familiar with SQLite syntax vs MySQL. Even though they are very similar, there are a few differences, like `AUTO_INCREMENT`, `CREATE DATABASE`, the `PRIMARY KEY` designation, and [MySQL client commands](https://dev.mysql.com/doc/refman/8.0/en/mysql-commands.html). 

* [How to initiate the MySQL command line.](https://dev.mysql.com/doc/refman/8.0/en/mysql.html)  `mysql -u root -p`

* Students have not seen this command in this module, might be best to give this snippet to them to place at top the `schema.sql` file.

```sql
DROP DATABASE IF EXISTS books_db;
CREATE DATABASE books_db;
USE books_db;
```

* [Install MySQL](https://dev.mysql.com/downloads/mysql/) ahead of time and run the community server to initialize the mysql command line prompt. This is to run the `schema.sql` and `seeds.sql` from the MySQL command prompt. 

* MySQL CLI $PATH must sometimes be manually entered depending on OS.

  * [macOS](https://apple.stackexchange.com/questions/176786/how-to-add-mysql-to-path-variable-to-resolve-mysql-command-not-found). 

  * [Windows](https://dev.mysql.com/doc/mysql-windows-excerpt/5.7/en/mysql-installation-windows-path.html)

* In the async material, students create a schema and seed the table from the command line using files in Lesson 1.


## Time Tracker 

| Start  | #  | Activity Name                     | Duration |
|---     |--- |---                                |---       |
| 6:30PM | 1  | Introduction                      | 0:05     |
| 6:35PM | 2  | Everyone Do: Career Connection    | 0:20     |
| 6:55PM | 3  | Instructor Demo:                  | 0:05     |
| 7:00PM | 4  | Student Do:                       | 0:15     |
| 7:15PM | 5  | Instructor Review:                 | 0:10     |
| 7:25PM | 6  | Instructor Demo:                  | 0:05     |
| 7:30PM | 7  | Student Do:                       | 0:15     |
| 7:45PM | 8  | Instructor Review:                | 0:10     |
| 7:55PM | 9  | Recap                             | 0:05     |
| 8:00PM | 10 | Office Hours                      | 0:30     |
| 8:30PM | 11 | End                               | N/A      |

---

## Class Instructions 

### 1. Introduction (5 min)

* Welcome students to class.

* Direct students to post individual questions in the Zoom chat to be addressed by TAs and/or at the end of class.

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

    * ‚òùÔ∏è How are you feeling about your progress so far?

    * üôã We are adding another layer to our full-stack skill set. It's important to look back and see what we accomplished, and acknowledge that it's a lot! It‚Äôs also okay to feel overwhelmed as long as you don‚Äôt give up.

    * ‚òùÔ∏è How comfortable do you feel with this topic? 

    * üôã Let's do "fist to five" together. If you are not feeling confident, hold up a fist (0). If you feel very confident, hold up an open hand (5).


### 2. Everyone Do: Career Connection (20 min)

* [Click here for CodeSignal challenge](https://app.codesignal.com/public-test/Az2qBBpbLLktvi6MR/6KJ2ebjXrCiSPo) 

* Students are likely to feel overwhelmed with the introduction of yet another coding language this week ‚Äî SQL. 

* Remind students to complete the employer ready and employer competitive tasks assigned to them in the weekly Career Connection. 

  * This week, they explored different flavors of SQL ‚Äî MySQL, Microsoft SQL Server, PostgreSQL, MariaDB ‚Äî and their prevalence in their local area by searching on Indeed.com.

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What were some of the in-demand varieties of SQL you found?

  * üôã Answer will vary, but will include MySQL, Microsoft SQL Server, PostgreSQL, MariaDB.

  * ‚òùÔ∏è How similar are the SQL varieties?

  * üôãVery similar! If you know one, it is easy to move to another. So this skill is highly marketable.

  * ‚òùÔ∏è Did anyone attempt the Code Signal algorithm?

* Use student answers to transition to the next activity.

* Open your IDE and review the solution to the Code Signal algorithm:

  * The algorithm is called `camelCaseSeparation`. We are given an array of words, `words`, and a variable name, `variableName`. The algorithm should check `variableName` against `words`, and verify whether it is a correct camelCase variable name.

  * For example, if `words = ["is", "valid", "right"]` and `variableName = "isValid"`, the output should be `camelCaseSeparation(words, variableName) = true` as `variableName` consists of words "is" and "valid", and both of them are in `words`.
  
  * For example, if `words = ["is", "valid", "right"]` and `variableName = "isValId"`, the output should be `camelCaseSeparation(words, variableName) = false` as `variableName` is separated to words "is", "val", "id", and not all words are in `words`.

  * The instructions provide the following details regarding input and output:

  ```md
  [execution time limit] 4 seconds (js)

  [input] array.string words

  An array of words consisting of lowercase English letters.

  Guaranteed constraints:
  1 ‚â§ words.length ‚â§ 103.
  ```

  * We are also provided the following starter code:

  ```js
  function camelCaseSeparation(words, variableName) {
  
  }
  ```

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

  * ‚òùÔ∏è What is the first step to solve this problem?

  * üôã We should add on a capital letter to the end of the word to indicate a stopping place, and create a holder variable for the current word we're looking at when iterating.

  ```js
    variableName += 'A';
    let currentWord = '';
  ```

  * ‚òùÔ∏è Once we have these in place, how can we check whether the variable name is valid?

  * üôã We would use a `for` loop, iterate through the variable name, and check whether it is a capital letter. If it is, we would check whether that word exists in the array. If it doesn't exist, return `false`. If it does exist, add it to our `currentWord` placeholder.

  ```js
  for (let i = 0; i < variableName.length; i++) {
    if ('A' <= variableName[i] && variableName[i] <= 'Z') {
      currentWord = currentWord.toLowerCase();
      if (currentWord.length > 0 && !words.includes(currentWord)){
        return false;
      }
      currentWord = '';
    }

    currentWord += variableName[i];
  }
  ```

  * ‚òùÔ∏è Perfect! And at the end, you'll just need to add return `true` if we never returned `false` on any of our iterations.

  ```js
  return true;
  ```

* Answer any questions students have before moving to the next activity.

### 3. Instructor Demo: SQL Schema (5 min) 

* Run [01-Stu_Schema/Solved/schema.sql](https://github.com/coding-boot-camp/fullstack-online/blob/FSFO-742-12-required-lp/01-Class-Content/12-SQL/01-Activities/01-Stu_Schema/Solved/schema.sql) in the MySQL command line and demonstrate the following: 

    * üîë When we initialize the MySQL command line, `mysql>`, we can execute the `schema.sql` file. `mysql> source schema.sql`  (MySQL community server must be running)

    * üîë When can verify the table and database were made with the command `SHOW TABLES;`, `SHOW DATABASES;`.

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

    * ‚òùÔ∏è Where have we used this before?

    * üôã Similar to how we loaded the `schema.sql` file from the command line in Lesson 1. Also how we verified the schema from the command line.

    * ‚òùÔ∏è How does this activity equip us for the challenge?

    * üôã Yes, we must first create a connection between the database server and the database. 

    * ‚òùÔ∏è How would we build this?

    * üôã First create the `schema.sql` file with the SQL script to create the database and table.

* Answer any questions before proceeding to the next activity.


### 4. Student Do: SQL Schema (15 min) 

* Divide students into breakout rooms.

* Direct students to the activity instructions found in `01-Stu_Routes/README.md`.

```md
    
  * Create a `schema.sql` file for a database, `books_db`

  * Create two tables, one for `books` and one for `authors`. 

  * In the `books` table, add columns for the following:

    * `id`

    * `authorId` (INTEGER)

    * `title

    * `PRIMARY KEY`

  * In the `authors` table, add columns for the following: 

    * `id`

    * `firstName`

    * `lastName`

    * `PRIMARY KEY`

  * Run your `schema.sql` file from the MySQL command prompt to create your database and tables. 
```

* To initiate MySQL command line: `mysql -u root -p`  then <MySQL password>.

* To execute `schema.sql` type into mysql command line `source schema.sql`

### 5. Instructor Review: SQL Schema (10 min) 

* Bring students back from breakout rooms. 

* Use the prompts and talking points below to review the following key (üîë) points:

    * ‚úîÔ∏è `mysql -u root -p`

    * ‚úîÔ∏è `source schema.sql`

    * ‚úîÔ∏è `mysql> SHOW TABLES;`

    * ‚úîÔ∏è `mysql> DESCRIBE authors;`

    * ‚úîÔ∏è `mysql> DESCRIBE books;`

* Open `01-Stu_Schema/Solved/schema.sql` in your IDE and explain the following:

    * üîë We create the database with the command `CREATE DATABASE`.
  
    ```sql
    DROP DATABASE IF EXISTS books_db;
    CREATE DATABASE books_db;
    USE books_db;
    ```

    * üîë We create the `books` table with the `CREATE TABLE books` command:
  
    ```sql
    CREATE TABLE books(
      id INTEGER(11) AUTO_INCREMENT NOT NULL,
      authorId INTEGER(11),
      title VARCHAR(100),
      PRIMARY KEY (id)
    );
    ```
    * üîë We create the `authors` table with the `CREATE TABLE authors` command:
  
    ```sql
    CREATE TABLE authors(
      id INTEGER(11) AUTO_INCREMENT NOT NULL,
      firstName VARCHAR(100),
      lastName VARCHAR(100),
      PRIMARY KEY (id)
    );
    ```

    * We execute the `schema.sql` file in the mysql command line with the `source` command:

    ```bash
    source schema.sql
    ```

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

    * ‚òùÔ∏è Why do we drop the `books_db` if it exists?

    * üôã Reset data and schema to the original dataset. Eliminates surprises.

    * ‚òùÔ∏è Why do we need a schema?

    * üôã Creates the table's structure. Necessary for SQL queries which rely on the structure.

    * ‚òùÔ∏è What can we do if we don't completely understanding this?

    * üôã We can refer to Lesson 1, read the [MySQL documentation on schemas](https://dev.mysql.com/doc/refman/8.0/en/getting-information.html), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.


### 6. Instructor Demo: SQL Seeds (5 min) 

* Run the [`02-Stu_Seeds/Solved/seeds.sql`](https://github.com/coding-boot-camp/fullstack-online/blob/master/01-Class-Content/12-SQL/01-Activities/02-Stu_Seeds/Solved/seeds.sql) file from the MySQL command line and demonstrate the following:

    * üîë We are populating the `authors` and `books` tables with data

    * üîë When we run `source seeds.sql` from the MySQL command line

    * üîë When we run `SELECT * FROM authors;` from the MySQL command line
    
    * üîë We see the data in the `authors` table
  
* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

    * ‚òùÔ∏è Where have we used this before?

    * üôã We used the same command in Lesson 1 to query the `candidates` table.

    * ‚òùÔ∏è How does this activity equip us for the challenge?

    * üôã Executing SQL commands give us a way to test prepared statements in application

    * ‚òùÔ∏è How would we build this?

    * üôã We need to create the SQL commands in the `seeds.sql` file

* Answer any questions before proceeding to the next activity.


### 7. Student Do: SQL Seeds (15 min) 

* Divide students into breakout rooms.

* Direct students to the activity instructions found in [`02-Stu_Seeds/README.md`](https://github.com/coding-boot-camp/fullstack-online/blob/master/01-Class-Content/12-SQL/01-Activities/02-Stu_Seeds/README.md).

```md
    * Create a `seeds.sql` file to insert values into the `authors` and `books` tables in the `books_db` database. 

    * Insert the following names, in this order, into their corresponding columns in `authors`:

        1. Jane Austen
        
        2. Mark Twain
        
        3. Lewis Carroll
        
        4. Andre Asselin

    * Insert the following titles and `authorId` into their corresponding columns in `books`:

        * 'Pride and Prejudice', 1

        * 'Emma', 1

        * 'The Adventures of Tom Sawyer', 2

        * 'Adventures of Huckleberry Finn', 2

        * 'Alice''s Adventures in Wonderland', 3

        * 'Dracula', null 
```


### 8. Instructor Review: SQL Seeds (10 min) 

* Bring students back from breakout rooms. 

* Use the prompts and talking points below to review the following key (üîë) points:

    * ‚úîÔ∏è Seed the tables with data

    * ‚úîÔ∏è `INSERT INTO`

    * ‚úîÔ∏è `VALUES`

* Open [`02-Stu_Seeds/Solved/seeds.sql`](https://github.com/coding-boot-camp/fullstack-online/blob/master/01-Class-Content/12-SQL/01-Activities/02-Stu_Seeds/Solved/seeds.sql) in your IDE and explain the following: 

    * üîë `INSERT INTO` <table>

    * üîë `VALUES` (syntax)

    ```SQL
    INSERT INTO authors (firstName, lastName) VALUES ('Jane', 'Austen');
    INSERT INTO authors (firstName, lastName) VALUES ('Mark', 'Twain');
    INSERT INTO authors (firstName, lastName) VALUES ('Lewis', 'Carroll');
    INSERT INTO authors (firstName, lastName) VALUES ('Andre', 'Asselin');
    ```

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

    * ‚òùÔ∏è Can anyone explain the benefits of seeding a table?

    * üôã Seeding a table allows the developer to query the database.

    * ‚òùÔ∏è What can we do if we don't completely understanding this?

    * üôã We can refer to Lesson 1, read the [MySQL documentation on common queries](https://dev.mysql.com/doc/refman/8.0/en/examples.html), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 09. Recap (5 min)

* Ask the class the following questions (‚òùÔ∏è) and call on students for the answers (üôã):

    * ‚òùÔ∏è What topics did we cover today? What are the main takeaways?

    * üôã How to create a database and tables in MySQL, the database engine we will use for future modules.

    * ‚òùÔ∏è What do you think is okay to not completely understand?

    * üôã All of it! The field of web development is very wide and rapidly evolving. Unless you choose to specialize, it's not necessary to know any one area completely to be successful. 

    * ‚òùÔ∏è Why is it important to do as much of the lesson material before class as possible?

    * üôã It's important both to be fully prepared to start the challenge and because it will prepare you for your future career as a web developer. We cover a lot of material in the boot camp. Lessons are intentionally designed to give each topic an optimal amount of depth and scope so that you have a solid foundation to build upon in future lessons. The skills you learn in the lessons are cutting-edge, real-world skills that you will use in your career as a full-stack web developer. 

    * ‚òùÔ∏è Where in the asynchronous lessons can you learn more?

    * üôã Lesson 1 covered SQL queries and executing SQL files to modify database

    * ‚òùÔ∏è What excites you about the remaining lessons for this week?

* Direct students to the additional resources available to them:

  * Reflection and Retrieval

  * Career Connection

  * Dessert Menu

* Use student answers to transition to office hours.

### 10. Office Hours (30 min)

* Announce office hours and invite students to stay on the Zoom and start the challenge while they have live support from instructional staff. 


### 11. End

How did today‚Äôs lesson go? Your feedback is important. Please take 5 minutes to complete [this anonymous survey](https://forms.gle/3LozVjherGH83aG17)

---
¬© 2020 Trilogy Education Services, LLC, a 2U, Inc. brand.  Confidential and Proprietary.  All Rights Reserved.
