# Module 09 Virtual Class: Node.js

## Overview

In today's virtual class, students will review ES6 features: arrow functions, functional loops, and object destructuring.

## Learning Objectives

By the end of class, students will be able to:

* Read and write files to the file system using Node.js' `fs` module.

* Implement how and when to use functional loops: `.map()` and `.filter()`

* Destructure objects and arrays

## Instructor Notes

* Be sure to prepare and read over the activities before your class begins. Try and anticipate questions students may have.

* During activities, visit a few breakout rooms quietly and ask the group if they are comfortable with the activity and provide gentle tips to keep them on track.

* If you are comfortable doing so, live code the solutions to the activities. If not, no worries. Use the solutions provided and follow the prompts and talking points for review.

* Arrow functions are introduced in Lesson 1 and used throughout Lesson 2. The functional loops, `.map()` and `.filter()`, and object destructuring are taught in Lesson 4

## Office Hours

Encourage students to work on the remaining module algorithms during office hours. Review the algorithm solutions 5–10 minutes before class begins or during office hours after class.

## Time Tracker

| Start  | #   | Activity Name                           | Duration |
| ------ | --- | --------------------------------------- | -------- |
| 6:30PM | 0   | Office Hours                            | 0:30     |
| 7:00PM | 1   | Introduction                            | 0:10     |
| 7:10PM | 2   | Review Current Challenge                | 0:05     |
| 7:15PM | 3   | Instructor Demo: FS Module              | 0:05     |
| 7:20PM | 4   | Student Do: FS module                   | 0:15     |
| 7:35PM | 5   | Instructor Review: FS Module            | 0:10     |
| 7:45PM | 6   | Instructor Demo: Functional Loops       | 0:05     |
| 7:50PM | 7   | Student Do: Functional Loops            | 0:15     |
| 8:05PM | 8   | Instructor Review: Functional Loops     | 0:10     |
| 8:15PM | 9   | Instructor Demo: Object Destructuring   | 0:05     |
| 8:20PM | 10  | Student Do: Object Destructuring        | 0:20     |
| 8:40PM | 11  | Instructor Review: Object Destructuring | 0:10     |
| 8:50PM | 12  | Recap & Promote Resources               | 0:05     |
| 8:55PM | 13  | Introduce Upcoming Challenge            | 0:05     |
| 9:00PM | 14  | End                                     | N/A      |
---

## Class Instructions

### 1. Introduction (10 min)

* Welcome students to class.

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ What did you learn this week? How would you explain it to your friends and family?

  * 🙋 We learned how to make our first Node.js application. We are moving fast compared to traditional learners. It’s okay to feel overwhelmed as long as you don’t give up.

  * ☝️ Did anyone have an "Aha!" or "Eureka!" moment this week? When was it and why did things suddenly click for you?

  * 🙋 Eureka moments happen when we try different approaches to a problem or change the way we're thinking about it.

  * ☝️ Did anyone feel stuck this week? How did you get unstuck?

  * 🙋 It's easy to get stuck when you're learning web development. It's important to learn how to get unstuck because it happens to the pros too. Rather than getting lost in search results, consult the tool's official documentation first. Then ask for help from instructional staff or your peers. Study groups are great because explaining your problems to someone else often reveals the solution.

### 2. Review Current Challenge (5 min)

* Navigate to `02-Challenge/Main` in your command line and run `node index.js` to demonstrate the following:

  * The challenge is a command line application that dynamically generates a README.md from a user's input.

  * The user will be prompted for their GitHub username and other information pertaining to the project the README is for.

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ What recently acquired skills will help us build this challenge?

  * 🙋 We use the `fs` and `inquirer` packages to prompt the user for input and write them to file. We also use ES6 arrow functions to clean up our code.

  * ☝️ How are these skills relevant to a career in web development?

  * 🙋 Node.js allows developers to write server-side code using JavaScript, the same programming language they've been using on the front-end. ES6 is a specification that added some major feature upgrades to JavaScript.

  * ☝️ How will this challenge improve your portfolio?

  * 🙋 It will demonstrate understanding of Node.js fundamentals as well as ES6.

* Answer any questions before proceeding to the next activity.

### 3. Instructor Demo: FS Module (5 min)

* Navigate to `03-FS-Module/Solved/` in your command line and run `node index Hello` to demonstrate the following:

  * 🔑 We see a confirmation message "Done!" along with the word we provided, "Hello".

  * 🔑 We also see that it created a `log.txt` file with the word "Hello" in it.

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ Where have we used this before?

  * 🙋 We used the `fs` package to capture command line arguments in Lesson 2 using the `writeFile()` method.

  * ☝️ How does this activity equip us for the Challenge?

  * 🙋 We use `fs` methods to write the user's responses to the README file.

  * ☝️ How would we build this?

  * 🙋 We need to use the `writeFile()` method to capture the user's input and write it to file. Then we need to use the `readFile()` method to print the contents of that file in the console.

* Answer any questions before proceeding to the next activity.

### 4. Student Do: FS Module (15 min)

* Divide students into breakout rooms.

* Direct students to the activity instructions found in `03-FS-Module/README.md`, which are also shown here:

     ```md
    # 📐 Add Comments to Implementation of `fs.appendFile()`

    Work with a partner to add comments describing the functionality of the code found in [index.js](./Unsolved/index.js).

    ## 📝 Notes

    Refer to the documentation:

    [Node.js documentation on the fs module](https://nodejs.org/api/fs.html#fs_fs_appendfile_path_data_options_callback)

    ## 🏆 Bonus

    If you have completed this activity, work through the following challenge with your partner to further your knowledge:

    * What is a ternary operator?

    Use [Google](https://www.google.com) or another search engine to research this.

    ---
    © 2021 Trilogy Education Services, LLC, a 2U, Inc. brand. Confidential and Proprietary. All Rights Reserved.
     ```

### 5. Instructor Review: FS Module (10 min)

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How comfortable do you feel appending to files? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (🔑) below to review the following key points:

  * ✔️ `fs.appendFile`

  * ✔️ ternary operator

* Open `14-Stu_appendFile/Solved/index.js` in your IDE and explain the following:

  * In our command line, if we run `node index.js "First"`, we see the message "Commit logged!".

  * When we check the newly created `log.txt` file, we see the word "First" on line 1.

  * If we run the following commands in our command line, we should see each message appended to the `log.txt` file

  ```sh
  node index.js "commit early and often"
  node index.js "everyone wants a log"
  ```

  * `fs.appendFile` appends text to file rather than overwriting the file.

  * 🔑 The first argument is the path; the filename of where to append the text. If the file doesn't exist yet, it will create it. The second argument is the data which is the string of text to append to the file. Here we used `${process.argv[2]}`. And finally the callback function.

  ```js
  fs.appendFile('log.txt', `${process.argv[2]}\n`, (err) =>
  err ? console.error(err) : console.log('Commit logged!')
  );
  ```

  * 🔑 Notice we used a ternary operator instead of an `if` statement. A ternary operator takes in a condition followed by a question mark (?), then an expression to execute if the condition is truthy followed by a colon (:), and finally the expression to execute if the condition is falsy.
  
  ```js
  err ? console.error(err) : console.log('Commit logged!')
  ```

  * It isn't crucial that we understand and use this now. Think of it as a sneak peak into another way we can write `if` statements.

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ What does the `\n` do when we concatenate it with the value store in `process.argv[2]`?
  
  * 🙋 This creates a new line character.
  
  * ☝️ What can we do if we don't completely understand this?

  * 🙋 We can refer to supplemental material, read the [Node.js documentation on the fs module](https://nodejs.org/api/fs.html#fs_fs_appendfile_path_data_options_callback), and stick around for office hours to ask for help.

### 6. Instructor Demo: Functional Loops  (5 min)

* Navigate to `04-Functional-Loops/Solved/` in your command line and run `node map.js` to demonstrate the following:

  * 🔑 The first original array has 5 random numbers. The second array has doubled all of the numbers. The third array has tripled all of the numbers. The final array states whether the number is even or odd.

* Run `node filter.js` to demonstrate the following:

  * 🔑 The first original array has 5 random numbers. The second array only has the even numbers. The third array only has prime numbers. The final array only has numbers larger than 5.

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ Where have we used this before?

  * 🙋 We used the `.map()` method to iterate through the project data and for each project, we destructured the project's object data based on property name and return an entire set of HTML code with it in Lesson 4.

  * 🙋 We then used the `.filter()` method to iterate through the project data and filter out projects based on their `feature` property in Lesson 4 also.

  * ☝️ How does this activity equip us for the challenge?

  * 🙋 Functional loops help us to write cleaner code and get the data we need quickly.

  * ☝️ How would we build this?

  * 🙋 We will need to use `.map()` and `.filter()` methods to iterate over the arrays and return the desired values.

* Answer any questions before proceeding to the next activity.

### 7. Student Do: Functional Loops  (15 min)

* Divide students into breakout rooms.

* Direct students to the activity instructions found in `04-Functional-Loops/README.md`.

    ```md
    # 📐 Add Comments to Implementation of Functional Loops

    Work with a partner to add comments describing the functionality of the code found in [filter.js](./Unsolved/filter.js) and [map.js](./Unsolved/map.js).

    ## 📝 Notes

    Refer to the documentation: 

    * [filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter)

    * [map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map)

    ---

    ## 🏆 Bonus

    If you have completed this activity, work through the following challenge with your partner to further your knowledge:

    * What is the `reduce()` array method?

    Use [Google](https://www.google.com) or another search engine to research this.
    ```

### 8. Instructor Review: Functional Loops  (10 min)

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How comfortable do you feel with functional loops? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (🔑) below to review the following key points:

  * ✔️ `map()`

  * ✔️ `filter()`

* Open `04-Functional-Loops/Solved` in your IDE and explain the following:

  * 🔑  Remember that each of these array methods is just another type of `for` loop.

  * 🔑  We manipulate each item in an array in some way and return the original mutated array or a modified version of the original array.

  * With the `map()` method, a callback is run once for every element in the array. The value that is returned gets added to the corresponding index of the new array, as shown in the following example:

    ```js
    const originalArray = [1, 3, 2, 5, 10];

    const doubledArray = originalArray.map(function(data) {
      return data * 2;
    });

    console.log(doubledArray);
    console.log(originalArray);

    const tripledArray = originalArray.map(data => data * 3);
    const oddOrEven = originalArray.map(num => (num % 2 === 0 ? "even" : "odd"));
    ```

  * With the `filter()` method, if the callback function returns something truthy, the array element is copied to the new array. Otherwise it is skipped.
  
  * In the following example, the first array should contain only prime numbers, and the second should contain only numbers larger than `5`:

      ```js
      const originalArray = [1, 3, 2, 5, 10];

      const evenNumbers = originalArray.filter(function(data) {
        if (data % 2 === 0) {
          return true;
        }
      });

      console.log(evenNumbers);
      console.log(originalArray);

      const isPrime = num => {
        for (let i = 2; i < num; i++) {
          if (num % i === 0) return false;
        }
        return num !== 1;
      };


      numbers (`primeArray`)
      const primeArray = originalArray.filter(isPrime);

      larger than 5(`moreThan5Array`)

      const moreThan5Array = originalArray.filter(num => num > 5);
      ```

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ What are some real-life use cases for the `filter()` method?

  * 🙋 When filtering out a list of images that contain the word `large` in the file name; when returning an array of all user accounts that use `@gmail.com`; or when grabbing a list of GitHub issues that have a status of `closed`.

  * ☝️ What is an example of when you might want to map over something?

  * 🙋 When returning an HTML line-item element for every item in a list while building a to-do list.

* Answer any questions before proceeding to the next activity.

### 9. Instructor Demo: Object Destructuring  (5 min)

* Navigate to `05-Obj-Destructuring/Solved/` in your command line and run `node index.js` to demonstrate the following:

  * 🔑 Object destructuring is a way for us to pull properties off of an object into separate variables for easier access.

  * 🔑 After destructuring the objects, only the properties we specify will be logged into the console.

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ Where have we used this before?

  * 🙋 We used this to pull out `projects` and `about` data from `templateData` based on their property key names in Lesson 4.

  * ☝️ How does this activity equip us for the challenge?

  * 🙋 Destructuring objects will help us to pull out data that we need to easier access.

  * ☝️ How would we build this?

  * 🙋 We need to use ES6 object destructuring to pull out object data into variables that will be logged into the console.

* Answer any questions before proceeding to the next activity.

### 10. Student Do: Object Destructuring  (20 min)

* Divide students into breakout rooms.

* Direct students to the activity instructions found in `05-Obj-Destructuring/README.md`.

    ```md
    # 📖 Implement and Recognize Object Destructuring

    Work with a partner to implement the following user story:

    * As a developer, I want to be able to pull out data from objects and arrays into variables.

    ## Acceptance Criteria

    * It's done when I have destructured the objects to pull out the data that is logged in the console.

    * It's done when I have destructured the array to pull out the data that is logged in the console.

    * It's done when I have run `node index.js` after destructuring to confirm the values logged in the console.

    ## 📝 Notes

    Refer to the documentation:

    [MDN Web Docs on object destructuring](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment)

    ---

    ## 🏆 Bonus

    If you have completed this activity, work through the following challenge with your partner to further your knowledge:

    * How can we take a property from an object and assign it to a variable with a different name when we are destructuring it?

    Use [Google](https://www.google.com) or another search engine to research this.
    ```

### 11. Instructor Review: Object Destructuring  (10 min)

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ How comfortable do you feel with object destructuring? (Poll via Fist to Five, Slack, or Zoom)

* Assure students that we will cover the solution to help solidify their understanding. If questions remain, remind them to use office hours to get extra help!

* Use the prompts and talking points (🔑) below to review the following key points:

  * ✔️ Destructuring objects

  * ✔️ Destructuring arrays

* Open `05-Object-Destructuring/Solved/index.js` in your IDE and explain the following:

  * This exercise highlights how we can pluck off multiple properties at once, saving us a few lines of code.

  * We can also destructure function parameters. This allows us to name them directly and again save a few steps.  

  * Now we can simply expect an object and pull the properties off without worrying about the order they're passed in or writing extra code to destructure them the old way.

  * In the past, if we wanted to cherry-pick an object's properties, we'd have to do something like the following example:

    ```js
    const nodejs = {
      name: 'Node.js',
      type: 'JavaScript runtime environment',
    };

    const nodejsName = nodejs.name;
    const nodejsType = nodejs.type;

    console.log(nodejsName); // <= Node.js
    console.log(nodejsType); // <= JavaScript runtime environment
    ```

  * 🔑  With ES6 object destructuring syntax, we can destructure data based on their property key names:

    ```js
    const { name, type } = nodejs;

    console.log(name); // <= Node.js
    console.log(type); // <= JavaScript runtime environment
    ```

  * 🔑 For a nested object, we need to be more specific:

    ```js
    const { framework1, framework2 } = js.tools.frameworks;

    console.log(framework1); // <= AngularJS
    console.log(framework2); // <= Vue.js
    ```

  * 🔑 For arrays, we can destructure data by the index:

    ```js
    const languages = ['HTML', 'CSS', 'JavaScript'];

    const [markup, style, scripting] = languages;

    console.log(markup, style, scripting); // <= HTML CSS JavaScript
    console.log(markup); // <= HTML
    ```

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ Does the order matter when passing destructured object properties into a function?

  * 🙋 No! Because we are referring to the properties in the object by name, the key names will align with the correct value every time.

  * ☝️ What can we do if we don't completely understand this?

  * 🙋  We can refer to supplemental material, read the [MDN Web Docs on object destructuring](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment), and stick around for office hours to ask for help.

* Answer any questions before proceeding to the next activity.

### 12. Recap & Promote Additional Resources (5 min)

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ What do you think you absolutely need to know to succeed at the challenge?

  * 🙋 To complete the challenge, we need to know how to get and store user input using prompts. We also need to use ES6 arrow functions to make our code easier to read.

  * ☝️ What do you think is okay to not completely understand?

  * 🙋 All of it! The field of web development is very wide and rapidly evolving. Unless you choose to specialize, it is not necessary to know any one area completely to be successful.

  * ☝️ Why is it important to do as much of the lesson material prior to class as possible?

  * 🙋 It's important both to be fully prepared to start the challenge and because it will prepare you for your future career as a web developer. We cover a lot of material in the boot camp. Lessons are intentionally designed to give each topic an optimal amount of depth and scope so that you have a solid foundation to build upon in future lessons. The skills you learn in the lessons are cutting-edge, real-world skills that you will use in your career as a full-stack web developer.

* Direct students to the additional resources available to them:

  * Reflection and Retrieval

  * Career Connection

  * Dessert Menu

### 13. Introduce Upcoming Challenge (5 min)

* Navigate to `01-Class-Content/10-OOP/02-Challenge/Main/` in your command line and run `node app.js` to demonstrate the following:

  * This upcoming challenge is to build a Node CLI that takes in information about employees and generates an HTML webpage that displays summaries for each person.

  * The application prompts the user for information about the team manager and then information about the team members.

  * When the user has completed building the team, the application will create an HTML file that displays a nicely formatted team roster based on the information provided by the user.

* Ask the class the following questions (☝️) and call on students for the answers (🙋):

  * ☝️ What are we learning?

  * 🙋 We are not only continuing to use Node.js to build an application, but we are also learning how to write unit tests.

  * ☝️ How does this project build off or extend previously learned material?

  * 🙋 We are continuing to use HTML, CSS, and JavaScript, as well as Node.js and ES6 syntax.

  * ☝️ How does this project relate to your career goals?

  * 🙋 Since many employers will require their applications to be built in TDD, knowing how to write good unit tests will be vital to your career.

* Answer any questions before proceeding to the next activity.

### 14. End

How did today’s lesson go? Your feedback is important. Please take 5 minutes to complete [this anonymous survey](https://forms.gle/3LozVjherGH83aG17).

---
© 2021 Trilogy Education Services, LLC, a 2U, Inc. brand.  Confidential and Proprietary.  All Rights Reserved.
